{{/*
  Stats Bar Partial
  
  Usage: {{ partial "stats-bar.html" (dict "stats" $stats "links" $links "label" "Job statistics") }}
  
  Parameters:
  - stats: Slice of stat configs (required)
    Each stat: (dict "value" 123 "label" "open jobs" "color" "emerald")
  - links: Slice of link configs (optional)
    Each link: (dict "text" "Browse archive" "href" "/archive/")
  - label: Aria label for the section (optional)
*/}}

{{ $stats := .stats | default (slice) }}
{{ $links := .links | default (slice) }}
{{ $label := .label | default "Statistics" }}

<section class="border-b border-slate-200 bg-white" aria-label="{{ $label }}">
  <div class="mx-auto max-w-6xl px-4 py-4">
    <div class="flex flex-wrap items-center justify-center gap-6 text-sm sm:justify-start">
      {{ range $i, $stat := $stats }}
        {{ if $i }}<span class="hidden h-4 w-px bg-slate-200 sm:block" aria-hidden="true"></span>{{ end }}
        <div class="flex items-center gap-2">
          {{ with $stat.color }}
            <span class="h-2.5 w-2.5 rounded-full bg-{{ . }}-500" aria-hidden="true"></span>
          {{ end }}
          {{ if $stat.large }}
            <span class="text-2xl font-bold text-slate-900">{{ $stat.value }}</span>
          {{ else }}
            <span class="font-semibold text-slate-900">{{ $stat.value }}</span>
          {{ end }}
          <span class="text-slate-600">{{ $stat.label }}</span>
        </div>
      {{ end }}

      {{ if $links }}
        <span class="hidden h-4 w-px bg-slate-200 sm:block" aria-hidden="true"></span>
        {{ range $links }}
          <a class="text-slate-600 underline decoration-slate-300 underline-offset-4 hover:text-slate-900 hover:decoration-slate-900" href="{{ .href }}">{{ .text }}</a>
        {{ end }}
      {{ end }}
    </div>
  </div>
</section>

